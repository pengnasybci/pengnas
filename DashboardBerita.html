<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Form Input Berita</title>
<style>
    body { font-family: Arial; background:#f4f4f4; padding:20px; }
    form { background:white; padding:20px; border-radius:10px; width:400px; margin:auto; }
    input, textarea { width:100%; padding:10px; margin:8px 0; }
    button { padding:10px; width:100%; background:#007bff; color:white; border:none; }
</style>
</head>
<body>

<h2 style="text-align:center;">Form Pengisian Berita</h2>

<form id="beritaForm">

    <label>Tanggal Berita</label>
    <input type="date" id="tanggal" required>

    <label>Judul Berita</label>
    <input type="text" id="judul" placeholder="Masukkan judul berita" required>

    <label>Isi Berita</label>
    <textarea id="isi" rows="5" placeholder="Tulis isi berita..." required></textarea>

    <label>Gambar Berita</label>
    <input type="file" id="gambar" accept="image/*">

    <button type="submit">Kirim</button>

</form>

<script>
document.getElementById("beritaForm").addEventListener("submit", function(e){
    e.preventDefault();

    let file = document.getElementById("gambar").files[0];

    if (file) {
        let reader = new FileReader();
        reader.onloadend = function() {
            kirimData(reader.result);
        }
        reader.readAsDataURL(file);
    } else {
        kirimData("");
    }
});

function kirimData(base64img){
    const url = "https://script.google.com/macros/s/AKfycbyJck6iomrX1q3OGmZOa7YISKs-l1w9IYvpdmLW1T_DDcs7AWdzVMZZ6x4dKyKUP0lHYQ/exec"; // â† GANTI

    const data = {
        tanggal: document.getElementById("tanggal").value,
        judul: document.getElementById("judul").value,
        isi: document.getElementById("isi").value,
        gambar: base64img
    };

    fetch(url, {
        method: "POST",
        body: JSON.stringify(data),
        headers: {"Content-Type": "application/json"}
    })
    .then(res => res.json())
    .then(res => {
        alert("Berita berhasil dikirim!");
        document.getElementById("beritaForm").reset();
    })
    .catch(err => alert("Error: " + err));
}
</script>

</body>
</html>
